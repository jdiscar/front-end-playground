(function(t){var i=function(){t.prototype.probabilityLength=0;t.prototype.probability=[];t.prototype.alias=[];function t(t){this.init(t);return this}var i=function(t,i){return Math.floor(Math.random()*(i-t+1)+t)};var e=function(t){var i=t.reduce(function(t,i){return t+i});if(i>1){t=t.map(function(t){return t/i})}else if(i<1){t.push(1-i)}return t};t.prototype.init=function(t){var i,n,r,o,h,s;if(t==null){throw new Error("Undefined Probabilities Array")}t=t.slice(0);t=e(t);this.probability=[];this.alias=[];this.probabilityLength=t.length;i=1/this.probabilityLength;n=[];r=[];for(o=0;o<t.length;o++){t[o]>=i?r.push(o):n.push(o)}while(n.length>0&&r.length>0){h=n.shift();s=r.shift();this.probability[h]=t[h]*this.probabilityLength;this.alias[h]=s;t[s]=t[s]+t[h]-i;t[s]>=i?r.push(s):n.push(s)}while(r.length!==0){this.probability[r.shift()]=1}while(n.length!==0){this.probability[n.shift()]=1}};t.prototype.next=function(){var t=i(0,this.probabilityLength-1);var e=Math.random()<this.probability[t];return e?t:this.alias[t]};return t}();if(typeof define==="function"&&define.amd){define(["exports"],function(e){t.VoseAliasMethod=i})}else if(typeof exports!=="undefined"){exports.VoseAliasMethod=i}else{t.VoseAliasMethod=i}})(this);